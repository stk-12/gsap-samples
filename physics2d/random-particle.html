<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Physics2D Particle</title>
<link rel="stylesheet" href="../assets/css/common.css">
<style>
  body {
    margin: 0;
    background: #111;
    height: 100vh;
    cursor: pointer;
  }
  h1 {
    font-size: 3vw;
    font-weight: 400;
    color: rgba(255, 255, 255, 0.5);
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    pointer-events: none;
  }
  .particle {
    position: fixed;
    width: 8px;
    height: 8px;
    background: #FF6F61;
    border-radius: 50%;
    pointer-events: none;
  }
</style>

</head>
<body>
  <h1>Click Anywhere</h1>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/Physics2DPlugin.min.js"></script>
<script>
gsap.registerPlugin(Physics2DPlugin);

document.addEventListener("click", (e) => {
  const numParticles = 20;
  for (let i = 0; i < numParticles; i++) {
    createParticle(e.clientX, e.clientY);
  }
});

function createParticle(x, y) {
  const p = document.createElement("div");
  p.classList.add("particle");
  document.body.appendChild(p);

  gsap.set(p, { x: x, y: y, backgroundColor: gsap.utils.random(["#FF6F61", "#42C2F4", "#FAD02E"]) });

  gsap.to(p, {
    duration: gsap.utils.random(0.8, 1.5),
    physics2D: {
      angle: gsap.utils.random(0, 360),    // 発射角度
      velocity: gsap.utils.random(200, 500), // 速度(px/sec)
      gravity: 800                          // 下方向の重力
    },
    opacity: 0,
    onComplete: () => p.remove(),
    ease: "none"
  });
}
</script>

</body>
</html>
